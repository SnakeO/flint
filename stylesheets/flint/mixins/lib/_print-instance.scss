// Prints debug properties
// -------------------------------------------------------------------------------
// @dependence `printInstance()`
// -------------------------------------------------------------------------------
// @param $calcKey [Alias] : breakpoint key to search for instance
// -------------------------------------------------------------------------------
// @output [Properties...]

@mixin debugPrintInstance($calcKey) {
	// Lets clean up the selector a bit...
	$selector-string: selector_string();
	$selector-cleaned: nth(string-to-list($selector-string), 1);

	@if get-value(settings, debug-mode) == true {
		$printKey: "#{$selector-cleaned}" + "::" + "#{$calcKey}";
		@include printInstance(map-get( $flint__instances, unquote($printKey)));
	}
}

// Prints all contents of instance
// -------------------------------------------------------------------------------
// @param $instance [Map] : instance
// -------------------------------------------------------------------------------
// @output [Properties...]

@mixin printInstance($instance) {

	// Loop through each property in passed instance
	@each $property, $value in $instance {

		// Check if value is output map
		@if is-map($value) {
			@each $mod_property, $mod_value in $value {
				-flint-output-#{$mod_property}: #{$mod_value};
			}
		// Else, print values as flagged comments
		} @else {
			-flint-#{$property}: #{$value};
		}
	}
}