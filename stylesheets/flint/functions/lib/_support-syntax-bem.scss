// Support BEM syntax
// -------------------------------------------------------------------------------
// @param $selectors [string] : string of selectors to parse
// -------------------------------------------------------------------------------
// @return [list] : parsed list of selectors according to syntax

@function support-syntax-bem($selectors) {
    // Clean up selector, remove double underscores for spaces
    $selectors: replace-substring($selectors, "__");
    // Parse string to list
    $selectors: string-to-list($selectors);
    // Define top-most parent of selector
    $parent: nth($selectors, 1);
    // Create new list of parsed selectors
    $selector-list: ($parent);

    // Loop over each selector and build list of selectors
    @each $selector in $selectors {
        // Make sure current selector is not the parent
        @if $selector != $parent {
            // Save to selector list
            $selector-list: append($selector-list, ($parent + "__" + $selector), "comma");
            // Define new parent
            $parent: $parent + "__" + $selector;
        }
    }

    // Return the list of parsed selectors
    @return $selector-list;
}
