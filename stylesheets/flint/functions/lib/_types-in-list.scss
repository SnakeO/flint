// Checks type of each item in list
// -------------------------------------------------------------------------------
// @param $list [list] : list of items
// @param $assert-types [string | list] : single or list of types to assert
// @param $assert-length [number] : assert length of list
// -------------------------------------------------------------------------------
// @return [bool]

@function types-in-list($list, $assert-types: null, $assert-length: null) {
    @if is-list($list) {

        // Assert types in list?
        // ----
        @if $assert-types {

            // Assert length of list?
            // ----
            @if $assert-length {
                // Get length of list
                $length: length($list);

                // Make sure lengths match
                @if $length == $assert-length {
                    // Keep empty list of types
                    $types: ();

                    // List of asserted types?
                    // ----
                    @if is-list($assert-types) {

                        // Make sure length of types match list
                        // ----
                        @if length($assert-types) == $length {

                            // Loop over each item in list
                            @for $i from 1 through $assert-length {
                                $item: nth($list, $i);
                                $type: nth($assert-types, $i);

                                // Check if type of item matches asserted type
                                @if type-of($item) != $type {
                                    @return false;
                                }

                                $types: append($types, $type);
                            }

                        // Lengths did not match
                        // ----
                        } @else {
                            @return false;
                        }

                    // Assert a single type across list
                    // ----
                    } @else {
                        // Assert single type
                        $type: nth($assert-types, 1);

                        // Loop over each item in list
                        @for $i from 1 through $assert-length {
                            $item: nth($list, $i);

                            // Check if type of item matches asserted type
                            @if type-of($item) != $type {
                                @return false;
                            }
                        }

                        $types: append($types, $type);
                    }

                    // Return list of types
                    @return true; // $types;

                // Lengths did not match, return false
                } @else {
                    @return false;
                }

            // Just assert types in list, any length
            // ----
            } @else {
                // Get asserted type
                $type: $assert-types;

                // Check each items type
                @each $item in $list {
                    // Check if type of item matches asserted type
                    @if type-of($item) != $type {
                        @return false;
                    }
                }

                // Passed check, return type
                @return true; // $type;
            }

        // Just assert type of first item in list
        // ----
        } @else {
            // Get type of first item in list
            $type: type-of(nth($list, 1));

            // Check each items type
            @each $item in $list {
                // Check if type of item matches asserted type
                @if type-of($item) != $type {
                    @return false;
                }
            }

            // Passed check, return type
            @return true; // $type;
        }
    // Was not a list, return false
    } @else {
        @return false;
    }
}
