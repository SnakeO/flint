///
/// Check if key exists in map
///
/// @access private
///
/// @param {Map}    $map - map to search
/// @param {String} $key - key to search for
///
/// @return {Bool}
///
/// @group Internal Functions
///
@function flint-exists($map, $key) {

	@if not flint-is-string($key) {
		@return false;
	}

	// Use Ruby function if available
	@if $flint-use-ruby-functions {
		@return flint_ruby_exists($map, $key);
	} @else {
		$is-map: flint-is-map($map);
		$top-has-key: $is-map and map-has-key($map, $key) or false;

		@if $top-has-key {
			@return true;
		} @else if $is-map {
			@each $m, $k in $map {
				@return flint-exists($k, $key)
			}
		}

		@return false;
	}
}
